> gst-inspect-1.0 libcamerasrc
Factory Details:
  Rank                     primary (256)
  Long-name                libcamera Source
  Klass                    Source/Video
  Description              Linux Camera source using libcamera
  Author                   Nicolas Dufresne <nicolas.dufresne@collabora.com>

Plugin Details:
  Name                     libcamera
  Description              libcamera capture plugin
  Filename                 /lib/aarch64-linux-gnu/gstreamer-1.0/libgstlibcamera.so
  Version                  0.5.2+99-bfd68f78
  License                  LGPL
  Source module            libcamera
  Binary package           libcamera
  Origin URL               https://libcamera.org

GObject
 +----GInitiallyUnowned
       +----GstObject
             +----GstElement
                   +----GstLibcameraSrc

Implemented Interfaces:
  GstChildProxy

Pad Templates:
  SRC template: 'src'
    Availability: Always
    Capabilities:
      video/x-raw
      image/jpeg
      video/x-bayer
    Type: GstLibcameraPad
    Pad Properties:
      stream-role         : The selected stream role
                            flags: readable, writable, changeable only in NULL or READY state
                            Enum "GstLibcameraStreamRole" Default: 2, "video-recording"
                               (1): still-capture    - libcamera::StillCapture
                               (2): video-recording  - libcamera::VideoRecording
                               (3): view-finder      - libcamera::Viewfinder

  SRC template: 'src_%u'
    Availability: On request
    Capabilities:
      video/x-raw
      image/jpeg
      video/x-bayer
    Type: GstLibcameraPad
    Pad Properties:
      stream-role         : The selected stream role
                            flags: readable, writable, changeable only in NULL or READY state
                            Enum "GstLibcameraStreamRole" Default: 2, "video-recording"
                               (1): still-capture    - libcamera::StillCapture
                               (2): video-recording  - libcamera::VideoRecording
                               (3): view-finder      - libcamera::Viewfinder

Element has no clocking capabilities.
Element has no URI handling capabilities.

Pads:
  SRC: 'src'
    Pad Template: 'src'

Element Properties:
  ae-constraint-mode  : Specify a constraint mode for the AE algorithm to use. The constraint modes determine how the measured scene brightness is adjusted to reach the desired target exposure. Constraint modes may be platform specific, and not all constraint modes may be supported.
                        flags: readable, writable, controllable
                        Enum "AeConstraintMode" Default: 0, "normal"
                           (0): normal           - Default constraint mode. This mode aims to balance the exposure of different parts of the image so as to reach a reasonable average level. However, highlights in the image may appear over-exposed and lowlights may appear under-exposed.
                           (1): highlight        - Highlight constraint mode. This mode adjusts the exposure levels in order to try and avoid over-exposing the brightest parts (highlights) of an image. Other non-highlight parts of the image may appear under-exposed.
                           (2): shadows          - Shadows constraint mode. This mode adjusts the exposure levels in order to try and avoid under-exposing the dark parts (shadows) of an image. Other normally exposed parts of the image may appear over-exposed.
                           (3): custom           - Custom constraint mode.
  ae-enable           : Enable or disable the AEGC algorithm. When this control is set to true, both ExposureTimeMode and AnalogueGainMode are set to auto, and if this control is set to false then both are set to manual. If ExposureTimeMode or AnalogueGainMode are also set in the same request as AeEnable, then the modes supplied by ExposureTimeMode or AnalogueGainMode will take precedence. See also: exposure-time-mode, analogue-gain-mode.
                        flags: readable, writable, controllable
                        Boolean. Default: false
  ae-exposure-mode    : Specify an exposure mode for the AE algorithm to use. The exposure modes specify how the desired total exposure is divided between the exposure time and the sensor's analogue gain. They are platform specific, and not all exposure modes may be supported. When one of AnalogueGainMode or ExposureTimeMode is set to Manual, the fixed values will override any choices made by AeExposureMode. See also: analogue-gain-mode. See also: exposure-time-mode.
                        flags: readable, writable, controllable
                        Enum "AeExposureMode" Default: 0, "normal"
                           (0): normal           - Default exposure mode.
                           (1): short            - Exposure mode allowing only short exposure times.
                           (2): long             - Exposure mode allowing long exposure times.
                           (3): custom           - Custom exposure mode.
  ae-flicker-period   : Manual flicker period in microseconds. This value sets the current flicker period to avoid. It is used when AeFlickerMode is set to FlickerManual. To cancel 50Hz mains flicker, this should be set to 10000 (corresponding to 100Hz), or 8333 (120Hz) for 60Hz mains. Setting the mode to FlickerManual when no AeFlickerPeriod has ever been set means that no flicker cancellation occurs (until the value of this control is updated). Switching to modes other than FlickerManual has no effect on the value of the AeFlickerPeriod control. See also: ae-flicker-mode.
                        flags: readable, writable, controllable
                        Integer. Range: -2147483648 - 2147483647 Default: 0
  ae-metering-mode    : Specify a metering mode for the AE algorithm to use. The metering modes determine which parts of the image are used to determine the scene brightness. Metering modes may be platform specific and not all metering modes may be supported.
                        flags: readable, writable, controllable
                        Enum "AeMeteringMode" Default: 0, "centre-weighted"
                           (0): centre-weighted  - Centre-weighted metering mode.
                           (1): spot             - Spot metering mode.
                           (2): matrix           - Matrix metering mode.
                           (3): custom           - Custom metering mode.
  af-metering         : The parts of the image used by the AF algorithm to measure focus.
                        flags: readable, writable, controllable
                        Enum "AfMetering" Default: 0, "auto"
                           (0): auto             - Let the AF algorithm decide for itself where it will measure focus.
                           (1): windows          - Use the rectangles defined by the AfWindows control to measure focus. If no windows are specified the behaviour is platform dependent.
  af-mode             : The mode of the AF (autofocus) algorithm. An implementation may choose not to implement all the modes.
                        flags: readable, writable, controllable
                        Enum "AfMode" Default: 0, "manual"
                           (0): manual           - The AF algorithm is in manual mode. In this mode it will never perform any action nor move the lens of its own accord, but an application can specify the desired lens position using the LensPosition control. The AfState will always report AfStateIdle. If the camera is started in AfModeManual, it will move the focus lens to the position specified by the LensPosition control. This mode is the recommended default value for the AfMode control. External cameras (as reported by the Location property set to CameraLocationExternal) may use a different default value.
                           (1): auto             - The AF algorithm is in auto mode. In this mode the algorithm will never move the lens or change state unless the AfTrigger control is used. The AfTrigger control can be used to initiate a focus scan, the results of which will be reported by AfState. If the autofocus algorithm is moved from AfModeAuto to another mode while a scan is in progress, the scan is cancelled immediately, without waiting for the scan to finish. When first entering this mode the AfState will report AfStateIdle. When a trigger control is sent, AfState will report AfStateScanning for a period before spontaneously changing to AfStateFocused or AfStateFailed, depending on the outcome of the scan. It will remain in this state until another scan is initiated by the AfTrigger control. If a scan is cancelled (without changing to another mode), AfState will return to AfStateIdle.
                           (2): continuous       - The AF algorithm is in continuous mode. In this mode the lens can re-start a scan spontaneously at any moment, without any user intervention. The AfState still reports whether the algorithm is currently scanning or not, though the application has no ability to initiate or cancel scans, nor to move the lens for itself. However, applications can pause the AF algorithm from continuously scanning by using the AfPause control. This allows video or still images to be captured whilst guaranteeing that the focus is fixed. When set to AfModeContinuous, the system will immediately initiate a scan so AfState will report AfStateScanning, and will settle on one of AfStateFocused or AfStateFailed, depending on the scan result.
  af-range            : The range of focus distances that is scanned. An implementation may choose not to implement all the options here.
                        flags: readable, writable, controllable
                        Enum "AfRange" Default: 0, "normal"
                           (0): normal           - A wide range of focus distances is scanned. Scanned distances cover all the way from infinity down to close distances, though depending on the implementation, possibly not including the very closest macro positions.
                           (1): macro            - Only close distances are scanned.
                           (2): full             - The full range of focus distances is scanned. This range is similar to AfRangeNormal but includes the very closest macro positions.
  af-speed            : Determine whether the AF is to move the lens as quickly as possible or more steadily. For example, during video recording it may be desirable not to move the lens too abruptly, but when in a preview mode (waiting for a still capture) it may be helpful to move the lens as quickly as is reasonably possible.
                        flags: readable, writable, controllable
                        Enum "AfSpeed" Default: 0, "normal"
                           (0): normal           - Move the lens at its usual speed.
                           (1): fast             - Move the lens more quickly.
  af-windows          : The focus windows used by the AF algorithm when AfMetering is set to AfMeteringWindows. The units used are pixels within the rectangle returned by the ScalerCropMaximum property. In order to be activated, a rectangle must be programmed with non-zero width and height. Internally, these rectangles are intersected with the ScalerCropMaximum rectangle. If the window becomes empty after this operation, then the window is ignored. If all the windows end up being ignored, then the behaviour is platform dependent. On platforms that support the ScalerCrop control (for implementing digital zoom, for example), no automatic recalculation or adjustment of AF windows is performed internally if the ScalerCrop is changed. If any window lies outside the output image after the scaler crop has been applied, it is up to the application to recalculate them. The details of how the windows are used are platform dependent. We note that when there is more than one AF window, a typical implementation might find the optimal focus position for each one and finally select the window where the focal distance for the objects shown in that part of the image are closest to the camera.
                        flags: readable, writable, controllable
                        Default: "<  >"
                        GstValueArray of GValues of type "GstValueArray"
  analogue-gain       : Analogue gain value applied in the sensor device. The value of the control specifies the gain multiplier applied to all colour channels. This value cannot be lower than 1.0. This control will only take effect if AnalogueGainMode is Manual. If this control is set when AnalogueGainMode is Auto, the value will be ignored and will not be retained. When reported in metadata, this control indicates what analogue gain was used for the current request, regardless of AnalogueGainMode. AnalogueGainMode will indicate the source of the analogue gain value, whether it came from the AEGC algorithm or not. See also: exposure-time. See also: analogue-gain-mode.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  analogue-gain-mode  : Controls the source of the analogue gain that is applied to the image sensor. When set to Auto, the AEGC algorithm computes the analogue gain and configures the image sensor accordingly. When set to Manual, the value of the AnalogueGain control is used. When transitioning from Auto to Manual mode and no AnalogueGain control is provided by the application, the last value computed by the AEGC algorithm when the mode was Auto will be used. If the AnalogueGainMode was never set to Auto (either because the camera started in Manual mode, or Auto is not supported by the camera), the camera should use a best-effort default value. If AnalogueGainModeManual is supported, the AnalogueGain control must also be supported. For cameras where we have control over the ISP, both ExposureTimeMode and AnalogueGainMode are expected to support manual mode, and both controls (as well as ExposureTimeMode and AnalogueGain) are expected to be present. If the camera also has an AEGC implementation, both ExposureTimeMode and AnalogueGainMode shall support both manual and auto mode. If auto mode is available, it shall be the default mode. These rules do not apply to black box cameras such as UVC cameras, where the available gain and exposure modes are completely dependent on what the hardware exposes. The same procedure described for performing flickerless transitions in the ExposureTimeMode control documentation can be applied to analogue gain. See also: exposure-time-mode. See also: analogue-gain.
                        flags: readable, writable, controllable
                        Enum "AnalogueGainMode" Default: 0, "auto"
                           (0): auto             - The analogue gain will be calculated automatically and set by the AEGC algorithm. If AnalogueGain is set while this mode is active, it will be ignored, and it will also not be retained. When transitioning from Manual to Auto mode, the AEGC should start its adjustments based on the last set manual AnalogueGain value.
                           (1): manual           - The analogue gain will not be updated by the AEGC algorithm. When transitioning from Auto to Manual mode, the last computed gain value is used until a new value is specified through the AnalogueGain control. If an AnalogueGain value is specified in the same request where the AnalogueGainMode is changed from Auto to Manual, the provided AnalogueGain is applied immediately.
  awb-enable          : Enable or disable the AWB. When AWB is enabled, the algorithm estimates the colour temperature of the scene and computes colour gains and the colour correction matrix automatically. The computed colour temperature, gains and correction matrix are reported in metadata. The corresponding controls are ignored if set in a request. When AWB is disabled, the colour temperature, gains and correction matrix are not updated automatically and can be set manually in requests. See also: colour-correction-matrix. See also: colour-gains. See also: colour-temperature.
                        flags: readable, writable, controllable
                        Boolean. Default: false
  awb-mode            : Specify the range of illuminants to use for the AWB algorithm. The modes supported are platform specific, and not all modes may be supported.
                        flags: readable, writable, controllable
                        Enum "AwbMode" Default: 0, "auto"
                           (0): auto             - Search over the whole colour temperature range.
                           (1): incandescent     - Incandescent AWB lamp mode.
                           (2): tungsten         - Tungsten AWB lamp mode.
                           (3): fluorescent      - Fluorescent AWB lamp mode.
                           (4): indoor           - Indoor AWB lighting mode.
                           (5): daylight         - Daylight AWB lighting mode.
                           (6): cloudy           - Cloudy AWB lighting mode.
                           (7): custom           - Custom AWB mode.
  brightness          : Specify a fixed brightness parameter. Positive values (up to 1.0) produce brighter images; negative values (up to -1.0) produce darker images and 0.0 leaves pixels unchanged.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  camera-name         : Select by name which camera to use.
                        flags: readable, writable, changeable only in NULL or READY state
                        String. Default: null
  colour-correction-matrix: The 3x3 matrix that converts camera RGB to sRGB within the imaging pipeline. This should describe the matrix that is used after pixels have been white-balanced, but before any gamma transformation. The 3x3 matrix is stored in conventional reading order in an array of 9 floating point values. ColourCorrectionMatrix can only be applied in a Request when the AWB is  disabled. See also: awb-enable. See also: colour-temperature.
                        flags: readable, writable, controllable
                        Default: "<  >"
                        GstValueArray of GValues of type "gfloat"
  colour-gains        : Pair of gain values for the Red and Blue colour channels, in that order. ColourGains can only be applied in a Request when the AWB is disabled. If ColourGains is set in a request but ColourTemperature is not, the implementation shall calculate and set the ColourTemperature based on the ColourGains. See also: awb-enable. See also: colour-temperature.
                        flags: readable, writable, controllable
                        Default: "<  >"
                        GstValueArray of GValues of type "gfloat"
  contrast            : Specify a fixed contrast parameter. Normal contrast is given by the value 1.0; larger values produce images with more contrast.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  digital-gain        : Digital gain value applied during the processing steps applied to the image as captured from the sensor. The global digital gain factor is applied to all the colour channels of the RAW image. Different pipeline models are free to specify how the global gain factor applies to each separate channel. If an imaging pipeline applies digital gain in distinct processing steps, this value indicates their total sum. Pipelines are free to decide how to adjust each processing step to respect the received gain factor and shall report their total value in the request metadata.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  exposure-time       : Exposure time for the frame applied in the sensor device. This value is specified in microseconds. This control will only take effect if ExposureTimeMode is Manual. If this control is set when ExposureTimeMode is Auto, the value will be ignored and will not be retained. When reported in metadata, this control indicates what exposure time was used for the current frame, regardless of ExposureTimeMode. ExposureTimeMode will indicate the source of the exposure time value, whether it came from the AE algorithm or not. See also: analogue-gain. See also: exposure-time-mode.
                        flags: readable, writable, controllable
                        Integer. Range: -2147483648 - 2147483647 Default: 0
  exposure-time-mode  : Controls the source of the exposure time that is applied to the image sensor. When set to Auto, the AE algorithm computes the exposure time and configures the image sensor accordingly. When set to Manual, the value of the ExposureTime control is used. When transitioning from Auto to Manual mode and no ExposureTime control is provided by the application, the last value computed by the AE algorithm when the mode was Auto will be used. If the ExposureTimeMode was never set to Auto (either because the camera started in Manual mode, or Auto is not supported by the camera), the camera should use a best-effort default value. If ExposureTimeModeManual is supported, the ExposureTime control must also be supported. Cameras that support manual control of the sensor shall support manual mode for both ExposureTimeMode and AnalogueGainMode, and shall expose the ExposureTime and AnalogueGain controls. If the camera also has an AEGC implementation, both ExposureTimeMode and AnalogueGainMode shall support both manual and auto mode. If auto mode is available, it shall be the default mode. These rules do not apply to black box cameras such as UVC cameras, where the available gain and exposure modes are completely dependent on what the device exposes. \par Flickerless exposure mode transitions Applications that wish to transition from ExposureTimeModeAuto to direct control of the exposure time without causing extra flicker can do so by selecting an ExposureTime value as close as possible to the last value computed by the auto exposure algorithm in order to avoid any visible flickering. To select the correct value to use as ExposureTime value, applications should accommodate the natural delay in applying controls caused by the capture pipeline frame depth. When switching to manual exposure mode, applications should not immediately specify an ExposureTime value in the same request where ExposureTimeMode is set to Manual. They should instead wait for the first Request where ExposureTimeMode is reported as ExposureTimeModeManual in the Request metadata, and use the reported ExposureTime to populate the control value in the next Request to be queued to the Camera. The implementation of the auto-exposure algorithm should equally try to minimize flickering and when transitioning from manual exposure mode to auto exposure use the last value provided by the application as starting point. 1. Start with ExposureTimeMode set to Auto 2. Set ExposureTimeMode to Manual 3. Wait for the first completed request that has ExposureTimeMode set to Manual 4. Copy the value reported in ExposureTime into a new request, and submit it 5. Proceed to run manual exposure time as desired See also: exposure-time.
                        flags: readable, writable, controllable
                        Enum "ExposureTimeMode" Default: 0, "auto"
                           (0): auto             - The exposure time will be calculated automatically and set by the AE algorithm. If ExposureTime is set while this mode is active, it will be ignored, and its value will not be retained. When transitioning from Manual to Auto mode, the AEGC should start its adjustments based on the last set manual ExposureTime value.
                           (1): manual           - The exposure time will not be updated by the AE algorithm. When transitioning from Auto to Manual mode, the last computed exposure value is used until a new value is specified through the ExposureTime control. If an ExposureTime value is specified in the same request where the ExposureTimeMode is changed from Auto to Manual, the provided ExposureTime is applied immediately.
  exposure-value      : Specify an Exposure Value (EV) parameter. The EV parameter will only be applied if the AE algorithm is currently enabled, that is, at least one of AnalogueGainMode and ExposureTimeMode are in Auto mode. By convention EV adjusts the exposure as log2. For example EV = [-2, -1, -0.5, 0, 0.5, 1, 2] results in an exposure adjustment of [1/4x, 1/2x, 1/sqrt(2)x, 1x, sqrt(2)x, 2x, 4x]. See also: analogue-gain-mode. See also: exposure-time-mode.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  gamma               : Specify a fixed gamma value. The default gamma value must be 2.2 which closely mimics sRGB gamma. Note that this is camera gamma, so it is applied as 1.0/gamma.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  lens-position       : Set and report the focus lens position. This control instructs the lens to move to a particular position and also reports back the position of the lens for each frame. The LensPosition control is ignored unless the AfMode is set to AfModeManual, though the value is reported back unconditionally in all modes. This value, which is generally a non-integer, is the reciprocal of the focal distance in metres, also known as dioptres. That is, to set a focal distance D, the lens position LP is given by \f$LP = \frac{1\mathrm{m}}{D}\f$ For example: - 0 moves the lens to infinity. - 0.5 moves the lens to focus on objects 2m away. - 2 moves the lens to focus on objects 50cm away. - And larger values will focus the lens closer. The default value of the control should indicate a good general position for the lens, often corresponding to the hyperfocal distance (the closest position for which objects at infinity are still acceptably sharp). The minimum will often be zero (meaning infinity), and the maximum value defines the closest focus position. Todo: Define a property to report the Hyperfocal distance of calibrated lenses.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  name                : The name of the object
                        flags: readable, writable
                        String. Default: "libcamerasrc0"
  parent              : The parent of the object
                        flags: readable, writable
                        Object of type "GstObject"
  saturation          : Specify a fixed saturation parameter. Normal saturation is given by the value 1.0; larger values produce more saturated colours; 0.0 produces a greyscale image.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
  scaler-crop         : Sets the image portion that will be scaled to form the whole of the final output image. The (x,y) location of this rectangle is relative to the PixelArrayActiveAreas that is being used. The units remain native sensor pixels, even if the sensor is being used in a binning or skipping mode. This control is only present when the pipeline supports scaling. Its maximum valid value is given by the properties::ScalerCropMaximum property, and the two can be used to implement digital zoom.
                        flags: readable, writable, controllable
                        Default: "<  >"
                        GstValueArray of GValues of type "gint"
  sharpness           : Intensity of the sharpening applied to the image. A value of 0.0 means no sharpening. The minimum value means minimal sharpening, and shall be 0.0 unless the camera can't disable sharpening completely. The default value shall give a "reasonable" level of sharpening, suitable for most use cases. The maximum value may apply extremely high levels of sharpening, higher than anyone could reasonably want. Negative values are not allowed. Note also that sharpening is not applied to raw streams.
                        flags: readable, writable, controllable
                        Float. Range:   -3.402823e+38 -    3.402823e+38 Default:               0
